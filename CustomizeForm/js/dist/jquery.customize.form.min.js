/* jquery.customize.form.js v1.0.0 MIT license (c) 2017 silver0r */
!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ellipsis.min","modernizr-latest"],t):"object"==typeof exports?module.exports=t(require("jquery"),require("jquery.ellipsis.min"),require("modernizr-latest")):t(jQuery)}(function(t){"use strict";function i(){this._pluginInfo=r}function o(i,o){return this.defaults={width:15,height:15,labelMarginRight:10,labelPaddingLeft:10,backgroundColor:"#fff",backgroundImage:"../css/img/img_checkbox.png",backgroundImage2x:"../css/img/img_checkbox@2x.png",type:"image",color:"#000",selectedColor:"#fff",disableColor:"#838383",selectedBackgroundColor:"#000",disableBackgroundColor:"#f4f4f4",borderColor:"#000",selectedBorderColor:"#000",disableBorderColor:"#adb2b5",borderRadius:5,initShow:!0,initShowClass:"hide"},this.$element=i,this.options=t.extend({},this.defaults,o),this.init()}function e(i,o){return this.defaults={width:16,height:16,labelMarginRight:10,labelPaddingLeft:10,backgroundColor:"#fff",backgroundImage:"../css/img/img_checkbox.png",backgroundImage2x:"../css/img/img_checkbox@2x.png",type:"image",color:"#000",selectedColor:"#fff",disableColor:"#838383",selectedBackgroundColor:"#000",disableBackgroundColor:"#f4f4f4",borderColor:"#000",selectedBorderColor:"#000",disableBorderColor:"#adb2b5",borderRadius:5},this.$element=i,this.options=t.extend({},this.defaults,o),this.init()}function s(i,o){return this._pluginInfo=r,this.defaults={buttonType:"text",buttonText:"파일열기",buttonBackgroundImage:"../css/img/img_find_btn01.jpg",buttonSpriteClass:"btn_file01",buttonWidth:70,buttonSpacing:10,buttonBackgroundColor:"#707070",buttonTextColor:"#fff",textWidth:190,textPaddingVertical:0,textPaddingHorizontal:5,textBorder:"1px #c8c8c8 solid",verticalSpacing:10,ellipsisPosition:"middle",height:30,enableInitButton:!1,initButtonBackgroundImage:"../css/img/img_close_btn01.png",initButtonWidth:12,initButtonHeight:12,initShow:!0,initShowClass:"hide"},this._$oldElement=i,this.options=t.extend({},this.defaults,o),this.init()}function n(i,o){return this._pluginInfo=r,this.defaults={width:90,paddingHorizontal:15,height:30,fontSize:12,color:"#a0a0a0",disableColor:"#d0d0d1",hoverColor:"#fc5d2a",initClass:"custom-form-select01",focusClass:"custom-form-focused01",disableClass:"custom-form-disabled01",initShow:!0,initShowClass:"hide"},this.$element=i,this.options=t.extend({},this.defaults,o),this.init()}var r={name:"jquery.customize.form",version:"1.0"},l={type:{checkbox:"checkbox",radio:"radio",select:"select",file:"file"},tag:{checkbox:"input[type=checkbox]",radio:"input[type=radio]",select:"select",file:"input[type=file]"},validate:function(i,o,e){if(e===i.checkbox||e===i.radio||e===i.select||e===i.file){var s=!0;return t(this).each(function(){if(!t(this).is(o[e]))return s=!1,!1}),s||t.error("customizeForm - type "+e+", The element is not valid in this function."),s}t.error("customizeForm - type "+e+", The type is not valid.")},remove:function(i,o){if(o===i.checkbox||o===i.radio)return t(this).next("label").off(".customizeForm").removeAttr("style"),t(this).off(".customizeForm").removeAttr("style");if(o===i.select)return t(this).prev(".custom_select").off(".customizeForm").remove(),t(this).off(".customizeForm").removeAttr("style");if(o===i.file){var e=t(this).closest(".file_wrap"),s=t(this).off(".customizeForm").clone(!0);return s.removeAttr("style").removeAttr("class").insertBefore(e),e.remove(),s}t.error("customizeCheckbox - type "+o+", The type is not valid.")}};t(document).on("changeSelectValue.customizeForm",function(t,i,o){var e=i.find("option:selected").html();o.html(e)}),i.prototype.init=function(){var i=this,o=null,e=null;return this._draw(),this.$element.each(function(s){e=t(this),o=e.next("label"),i._initStatus(e,o),i._event(e,o)})},i.prototype._draw=function(){var i=null;this.options.initShow&&this.$element.removeClass(this.options.initShowClass),"text"===this.options.type?i={width:this.options.width+"px",height:this.options.height+"px",lineHeight:this.options.height+"px",borderWidth:"1px",borderStyle:"solid",borderColor:this.options.borderColor,borderRadius:this.options.borderRadius+"px",marginRight:this.options.labelMarginRight+"px",backgroundColor:this.options.backgroundColor,color:this.options.color,display:"inline-block","*display":"inline","*zoom":"1",verticalAlign:"middle",textAlign:"center",zIndex:100,cursor:"pointer"}:(i={height:this.options.height+"px",lineHeight:this.options.height+"px",marginRight:this.options.labelMarginRight+"px",paddingLeft:this.options.width+this.options.labelPaddingLeft+"px",backgroundRepeat:"no-repeat",backgroundPosition:"0 0",backgroundColor:this.options.backgroundColor,display:"inline-block","*display":"inline","*zoom":"1",verticalAlign:"middle",zIndex:100,cursor:"pointer"},"undefined"!=typeof Modernizr&&Modernizr.backgroundsize?(i.backgroundImage='url("'+this.options.backgroundImage2x+'")',i.backgroundSize=this.options.backgroundSize):i.backgroundImage='url("'+this.options.backgroundImage+'")'),"block"===this.options.display&&(i.display=this.options.display,delete i["*display"],delete i["*zoom"]);var o=parseInt(this.options.width);t.isNumeric(o)&&-1===o&&delete i.width,this.$element.next("label").css(i);this.$element.css({marginLeft:"1px",marginRight:-(this.options.width+1)+"px",width:this.options.width+"px",height:this.options.height+"px",zIndex:0})},i.prototype._initStatus=function(t,i){var o=null;t.prop("disabled")&&t.prop("checked")?o="on_disabled":t.prop("disabled")&&!t.prop("checked")?o="off_disabled":t.prop("checked")&&(o="on"),null!==o&&this._changeStatus(i,o)},i.prototype._changeStatus=function(t,i){var o=null;if("text"===this.options.type){var e=null,s=null,n=null;switch(i){case"off":e=this.options.borderColor,s=this.options.backgroundColor,n=this.options.color;break;case"off_hover":e=this.options.borderColor,s=this.options.selectedBackgroundColor,n=this.options.selectedColor;break;case"on":case"on_hover":e=this.options.selectedBorderColor,s=this.options.selectedBackgroundColor,n=this.options.selectedColor;break;case"off_disabled":case"on_disabled":e=this.options.disableBorderColor,s=this.options.disableBackgroundColor,n=this.options.disableColor}o={borderColor:e,backgroundColor:s,color:n}}else{var r=null,l=this.options.width+10;switch(i){case"off":r="0 0";break;case"off_hover":r="0 -"+l+"px";break;case"on":r="0 -"+2*l+"px";break;case"on_hover":r="0 -"+3*l+"px";break;case"off_disabled":r="0 -"+4*l+"px";break;case"on_disabled":r="0 -"+5*l+"px"}o={backgroundPosition:r}}t.css(o)},i.prototype._checkStatus=function(t,i){if(!t.prop("disabled")){var o="off";t.is(":checked")&&(o="on"),this._changeStatus(i,o)}},i.prototype._checkStatusWithHover=function(t,i){if(!t.prop("disabled")){var o="off_hover";t.is(":checked")&&(o="on_hover"),this._changeStatus(i,o)}},o.prototype=new i,o.prototype._changeTrigger=function(t,i){var o=null;o=t.prop("disabled")?t.is(":checked")?"on_disabled":"off_disabled":t.is(":checked")?"on":"off",this._changeStatus(i,o)},o.prototype._event=function(t,i){var o=this;i.on("click.customizeForm mouseover.customizeForm",function(){o._checkStatusWithHover(t,i)}).on("mouseleave.customizeForm",function(){o._checkStatus(t,i)}),t.on("click.customizeForm focus.customizeForm",function(){o._checkStatusWithHover(t,i)}).on("blur.customizeForm",function(){o._checkStatus(t,i)}).on("change.customizeForm",function(){o._changeTrigger(t,i)})},e.prototype=new i,e.prototype._checkStatusWithClick=function(i,o,e){var s=this;if(!i.prop("disabled")){var n=null;t('input[name="'+e+'"]').each(function(i){n=t(this).prop("disabled")?"off_disabled":"off",s._changeStatus(t("label[for="+t(this).attr("id")+"]"),n)}),n="off_hover",i.is(":checked")&&(n="on_hover"),this._changeStatus(o,n)}},e.prototype._changeTrigger=function(i,o,e){var s=this,n=null;t('input[name="'+e+'"]').each(function(i){n=!t(this).prop("disabled")&&t(this).is(":checked")?"on":t(this).prop("disabled")||t(this).is(":checked")?"off_disabled":"off",s._changeStatus(t("label[for="+t(this).attr("id")+"]"),n)}),i.prop("disabled")?i.is(":checked")&&this._changeStatus(o,"on_disabled"):i.is(":checked")&&this._changeStatus(o,"on")},e.prototype._event=function(t,i){var o=this,e=t.attr("name");i.on("click.customizeForm",function(){o._checkStatusWithClick(t,i,e)}).on("mouseover.customizeForm",function(){o._checkStatusWithHover(t,i)}).on("mouseleave.customizeForm",function(){o._checkStatus(t,i)}),t.on("click.customizeForm",function(){o._checkStatusWithClick(t,i,e)}).on("focus.customizeForm",function(){o._checkStatusWithHover(t,i)}).on("blur.customizeForm",function(){o._checkStatus(t,i)}).on("change.customizeForm",function(){o._changeTrigger(t,i,e)})},s.prototype.init=function(){return this._replaceHTML(),this._draw(),this._event(),this.$element},s.prototype._replaceHTML=function(){var t='<div class="file_wrap"><div class="file_text"><div class="ellipsis"></div></div><div class="btn_customize_file">';"text"!==this.options.buttonType&&"bg_sprite"!==this.options.buttonType||(t+='<span class="text">'+this.options.buttonText+"</span>"),t+='<input type="file" class="customizeFile" name="'+this._$oldElement.attr("name")+'" id="'+this._$oldElement.attr("id")+'" /></div></div>';var i=this._$oldElement.before(t).prev();i.next().remove(),this.options.enableInitButton&&i.children(".file_text").append('<a class="btn_file_init" href="javascript:;" title="file clear"><img src="'+this.options.initButtonBackgroundImage+'" alt="close" /></a>'),this._$wrapElement=i},s.prototype._draw=function(){var t=this._$wrapElement.css({width:this.options.textWidth+this.options.buttonWidth+this.options.buttonSpacing+2*this.options.textPaddingHorizontal+"px",height:this.options.height+"px",lineHeight:this.options.height+"px",marginBottom:this.options.verticalSpacing+"px"}).children("div").css({height:this.options.height+"px",lineHeight:this.options.height+"px"}).closest(".file_wrap").children(".file_text").css({float:"left",width:this.options.textWidth-2+"px",height:this.options.height-2+"px",padding:this.options.textPaddingVertical+" "+this.options.textPaddingHorizontal+"px",border:this.options.textBorder,position:"relative"}).children(".ellipsis").css({wordBreak:"break-all",float:"left"}).closest(".file_wrap").children(".btn_customize_file").css({float:"left",width:this.options.buttonWidth+"px",height:this.options.height+"px",marginLeft:this.options.buttonSpacing+"px",display:"inline",position:"relative",overflow:"hidden"}).find('input[type="file"]').css({position:"absolute",top:0,left:"-90px",zIndex:100,width:this.options.buttonWidth+90+"px",height:this.options.height+"px",opacity:0,filter:"alpha(opacity=0)","-ms-filter":"“alpha(opacity=0)”","-moz-opacity":0,"-khtml-opacity":0,zoom:1,cursor:"pointer",border:"0"}),i=t.parent();if("text"===this.options.buttonType?i.css({background:this.options.buttonBackgroundColor,color:this.options.buttonTextColor}).find(".text").css({position:"absolute",top:0,left:0,zIndex:100,display:"inline-block",width:this.options.buttonWidth+"px",textAlign:"center"}):"bg_sprite"===this.options.buttonType?i.css({color:this.options.buttonTextColor}).find(".text").css({position:"absolute",top:0,left:0,zIndex:100,display:"inline-block",width:this.options.buttonWidth+"px",textAlign:"center"}).addClass(this.options.buttonSpriteClass):"image"===this.options.buttonType&&i.css({background:'url("'+this.options.buttonBackgroundImage+'") no-repeat'}),this.options.enableInitButton){var o=t.closest(".file_wrap").children(".file_text"),e=o.innerHeight();o.children(".ellipsis").css({float:"left",width:this.options.textWidth-2-this.options.initButtonWidth+"px"}).next(".btn_file_init").css({width:this.options.initButtonWidth+"px",height:this.options.initButtonHeight+"px",float:"left",textAlign:"center",marginTop:(e-this.options.initButtonHeight)/2+"px",display:"none"}).children("img").css({verticalAlign:"top",width:this.options.initButtonWidth+"px",height:this.options.initButtonHeight+"px"})}this.$element=t},s.prototype._event=function(){var i=this;this.$element.on("change.customizeForm",function(){var o=t(this).closest(".file_wrap").children(".file_text");if(o.children(".ellipsis").text(t(this).val()).attr("title",t(this).val()).ellipsis({position:i.options.ellipsisPosition}),i.options.enableInitButton){var e=o.children(".btn_file_init");null===t(this).val()||""===t(this).val()?e.hide():e.show()}}),this.options.enableInitButton&&this.$element.closest(".file_wrap").children(".file_text").children(".btn_file_init").on("click",function(){t(this).closest(".file_text").children(".ellipsis").text("");var i=t(this).closest(".file_wrap").children(".btn_customize_file").children(".customizeFile");i.val(""),i.val("").replaceWith(i.clone(!0)),t(this).hide()})},n.prototype.init=function(){var i=this;return this._draw(),this.$element.each(function(o){var e=t(this),s=e.prev(".custom_select");i._changeStatus(e,s),i._event(e,s)})},n.prototype._draw=function(){this.options.initShow&&this.$element.removeClass(this.options.initShowClass);var i=t("<span></span>").css({color:this.options.color,width:this.options.width+"px",padding:"0 "+this.options.paddingHorizontal+"px",height:this.options.height+"px",lineHeight:this.options.height+"px",fontSize:this.options.fontSize+"px",overflow:"hidden",position:"absolute"}).addClass("custom_select");this.$element.css({width:this.options.width+2*this.options.paddingHorizontal+"px",height:this.options.height+"px",lineHeight:this.options.height-4+"px",position:"relative",opacity:0,filter:"alpha(opacity=0)","-ms-filter":"alpha(opacity=0)","-moz-opacity":0,"-khtml-opacity":0,zIndex:100}).before(i)},n.prototype._changeStatus=function(t,i){var o=this.options.initClass,e=this.options.color;t.prop("disabled")&&(o=this.options.disableClass,e=this.options.disableColor),i.removeClass(this.options.initClass).removeClass(this.options.focusClass).removeClass(this.options.disableClass).addClass(o).text(t.find(":selected").html()).css({color:e})},n.prototype._event=function(i,o){var e=this;i.on("click.customizeForm keyup.customizeForm",function(){t(document).trigger("changeSelectValue.customizeForm",[i,o])}).on("focus.customizeForm",function(){var s=e.options.hoverColor;i.prop("disabled")&&(s=e.options.disableColor),o.addClass(e.options.focusClass).css({color:s}),t(document).trigger("changeSelectValue.customizeForm",[i,o])}).on("blur.customizeForm",function(){var t=e.options.color;i.prop("disabled")&&(t=e.options.disableColor),o.removeClass(e.options.focusClass).css({color:t})}).on("change.customizeForm",function(){e._changeStatus(i,o),t(document).trigger("changeSelectValue.customizeForm",[i,o]),i.trigger("blur.customizeForm")})},t.fn.customizeCheckbox=function(i){if(l.validate.apply(this,[l.type,l.tag,l.type.checkbox])){if(l[i])return l[i].apply(this,[l.type,l.type.checkbox]);if("object"==typeof i||!i)return new o(t(this),i);t.error("customizeCheckbox - options "+i+", The option is not valid.")}},t.fn.customizeRadio=function(i){if(l.validate.apply(this,[l.type,l.tag,l.type.radio])){if(l[i])return l[i].apply(this,[l.type,l.type.radio]);if("object"==typeof i||!i)return new e(t(this),i);t.error("customizeRadio - options "+i+", The option is not valid.")}},t.fn.customizeFile=function(i){if(l.validate.apply(this,[l.type,l.tag,l.type.file])){if(l[i])return l[i].apply(this,[l.type,l.type.file]);if("object"==typeof i||!i)return new s(t(this),i);t.error("customizeFile - options "+i+", The option is not valid.")}},t.fn.customizeSelect=function(i){if(l.validate.apply(this,[l.type,l.tag,l.type.select])){if(l[i])return l[i].apply(this,[l.type,l.type.select]);if("object"==typeof i||!i)return new n(t(this),i);t.error("customizeSelect - options "+i+", The option is not valid.")}}});